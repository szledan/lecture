<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      extensions: ["tex2jax.js"],
      "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] },
      tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
      TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } } },
      messageStyle: "none"
    });
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>



<style>

body {
  text-align: center;
  font-family:"Calibri";
}

.main_text {
  position: relative;
  width: 700px;
  text-align: left;
  padding-left: 30%;
}

.container {
  position: relative;
  min-width: 800px;
  height: 400px;
  left: 20%;
  padding-top: 20px;
  padding-bottom: 20px;
}

.board {
  position: relative;
  min-width: 600px;
}

.elements {
  border:1px solid #d3d3d3;
  position: absolute;
  top: 60px;
  left: 601px;
  overflow: scroll;
  text-align: left;
  height: 360px;
  width: 300px;
}

.draw_canvas {
  border:1px solid #d3d3d3;
  position: absolute;
  top: 0px;
  left: 0px;
}
.events_canvas {
  border:1px solid #d3d3d3;
  position: absolute;
  top: 0px;
  left: 0px;
}
.options_canvas {
  border:1px solid #d3d3d3;
  position: absolute;
  top: 0px;
  left: 601px;
  /*opacity: 0.5;*/
}

</style>
</head>

<body>
<div id="text_1" class="main_text">
    Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1
    Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1<br/>
    á é í ó ö ő ü ű „–” ǎ â ț ș î<br/>
    Á É Í Ó Ö Ő Ü Ű <=> Ă Â Ț Ș Î<br/>
    <b>á é í ó ö ő ü ű „–” ǎ â ț ș î</b><br/>
    <b>Á É Í Ó Ö Ő Ü Ű <=> Ă Â Ț Ș Î</b><br/>
    <i>á é í ó ö ő ü ű „–” ǎ â ț ș î</i><br/>
    <i>Á É Í Ó Ö Ő Ü Ű <=> Ă Â Ț Ș Î</i><br/>

    $\gamma=\lim_{n\to\infty}\left(\sum_{k=1}^n\frac1k-ln(n)\right) $
    <br/>
    When \(a \ne 0\), there are two solutions to \(ax^2 + bx + c = 0\) and they are
    $$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$

    Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1
    Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1
    Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1
    Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1 Szöveg1
</div>
<div id="container_1" class="container">
    <div class="board">
      <canvas id="canvas_draw" class="draw_canvas" width="600" height="400"></canvas>
      <canvas id="canvas_events" class="events_canvas" width="600" height="400" background="transparent"></canvas>
      <canvas id="canvas_options" class="options_canvas" width="300" height="40"></canvas>
    </div>
    <div class="elements">
        <input type="checkbox"/> Helyezz el egy pontot <br/>
        <input type="checkbox"/> Helyezz el egy újabb pontot <br/>
        <input type="checkbox"/> Kösd össze a pontokat <br/>
        <input type="checkbox"/> Helyezz el egy pontot <br/>
        <input type="checkbox"/> Helyezz el egy újabb pontot <br/>
        <input type="checkbox"/> Kösd össze a pontokat <br/>
        <input type="checkbox"/> Helyezz el egy pontot <br/>
        <input type="checkbox"/> Helyezz el egy újabb pontot <br/>
        <input type="checkbox"/> Kösd össze a pontokat <br/>
        <input type="checkbox"/> Helyezz el egy pontot <br/>
        <input type="checkbox"/> Helyezz el egy újabb pontot <br/>
        <input type="checkbox"/> Kösd össze a pontokat <br/>
        <input type="checkbox"/> Helyezz el egy pontot <br/>
        <input type="checkbox"/> Helyezz el egy újabb pontot <br/>
        <input type="checkbox"/> Kösd össze a pontokat <br />
        <input type="checkbox"/> Helyezz el egy pontot <br />
        <input type="checkbox"/> Helyezz el egy újabb pontot <br />
        <input type="checkbox"/> Kösd össze a pontokat <br />
    </div>
  </div>
</div>
<div id="text_2" class="main_text">
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
    Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2 Szöveg2
</div>
<div id="container_2" class="container"></div>
<div id="text_3" class="main_text">
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
    Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3 Szöveg3
</div>

<script>

class Point {
    x = 0;
    y = 0;
    dragged = false;
    constructor(x, y) {
        this.x = x;
        this.y = y;
    }
    draw(ctx) {
        let saveLineWidth = ctx.lineWidth;
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.strokeStyle = "#00000080";
        ctx.arc(this.x, this.y, 3, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.strokeStyle = "#88888880";
        ctx.arc(this.x, this.y, 2, 0, 2 * Math.PI);
        ctx.arc(this.x, this.y, 4, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.lineWidth = saveLineWidth;
    }
}

class Board {
    gelements = [];
    draw_ctx = null;
    options_ctx = null;
    constructor(container) {
        this.container = container;
        this.draw_ctx = this.container.querySelector("#canvas_draw").getContext("2d");
        this.options_ctx = this.container.querySelector("#canvas_options").getContext("2d");
    }

    draw_func(ctx) {
        console.log(this.container);
    }

    draw() {
        const ctx = this.draw_ctx;
        ctx.lineWidth = 2;
        ctx.lineCap = 'round';

        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);

        this.draw_func(ctx);

        for(let i = 0; i < this.gelements.length; ++i) {
            this.gelements[i].draw(ctx);
        }
    }

    addEventListener(type, func) {
        const c = this.container.querySelector("#canvas_events");
        c.addEventListener(type, func);
    }

    addPoint(p, dragged) {
        this.gelements.push(p);
    }
}

window.onload = function () {
    let containers = document.getElementsByClassName("container");
    let base_container = document.getElementById('container_1');
    for (let i = 1; i < containers.length; ++i) {
        containers[i].innerHTML = base_container.innerHTML;
    }
    let boards = [];
    for (let i = 0; i < containers.length; ++i) {
        boards.push(new Board(containers[i]))
    }

    boards[0].draw_func = function(ctx)
    {
        ctx.beginPath();
        ctx.strokeStyle = 'blue';
        ctx.arc(95, 50, 40, 0, 2 * Math.PI);
        ctx.stroke();
    };
    boards[0].draw();
    boards[0].addEventListener('mousedown', function (event) {
        boards[0].addPoint(new Point(event.offsetX, event.offsetY));
        console.log('mousedown');
        console.log(event);
        boards[0].draw();
    });
    boards[0].addEventListener('mouseup', function (event) {
        console.log('mouseup');
        console.log(event);
    });
}
</script>

</body>
</html>
